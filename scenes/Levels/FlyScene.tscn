[gd_scene load_steps=37 format=3 uid="uid://bdaojckf405t1"]

[ext_resource type="Script" path="res://assets/Scripts/Level.cs" id="1_ic4qb"]
[ext_resource type="AudioStream" uid="uid://c3c6v6d2jabsw" path="res://assets/Sounds/Songs/Nuage_1.mp3" id="2_6o5do"]
[ext_resource type="PackedScene" uid="uid://bjwiwl42jtnld" path="res://scenes/PlayerController/Character.tscn" id="2_qlhiq"]
[ext_resource type="PackedScene" uid="uid://bjrxx0g68e18x" path="res://scenes/Levels/graveyard.tscn" id="3_8st7c"]
[ext_resource type="PackedScene" uid="uid://d2a0djlko57o0" path="res://scenes/checkpoint.tscn" id="4_27gc2"]
[ext_resource type="PackedScene" uid="uid://cljg31i83ncu7" path="res://assets/Prefabs/vortex_anim.tscn" id="4_n1qjr"]
[ext_resource type="PackedScene" uid="uid://bdivpru8xvcqp" path="res://scenes/Camera/camera.tscn" id="4_obfiy"]
[ext_resource type="PackedScene" uid="uid://8l8ep2gwc1i0" path="res://assets/Prefabs/graveyard/tree_1.tscn" id="7_1rq4q"]
[ext_resource type="PackedScene" uid="uid://cuqngsngyeab1" path="res://assets/Prefabs/rocks/cliff_rock.tscn" id="7_7mstk"]
[ext_resource type="PackedScene" uid="uid://cfmpjoge2fq70" path="res://assets/Prefabs/rocks/round_rock_1.tscn" id="7_r7847"]
[ext_resource type="PackedScene" uid="uid://bync7ve5hgthl" path="res://assets/Prefabs/rocks/high_rock.tscn" id="8_8nu4s"]
[ext_resource type="PackedScene" uid="uid://bb88gut16novv" path="res://assets/Prefabs/rocks/triangle_rock_1.tscn" id="8_85xnk"]
[ext_resource type="PackedScene" uid="uid://fa27lkyj3wa7" path="res://assets/Prefabs/rocks/flat_rock_2.tscn" id="8_sarw3"]
[ext_resource type="PackedScene" uid="uid://duiqbyhuvxb7v" path="res://assets/Prefabs/vortex.tscn" id="8_yqpp2"]
[ext_resource type="PackedScene" uid="uid://cq6v2etphhni" path="res://assets/Prefabs/rocks/flat_rock_1.tscn" id="9_1fsf8"]
[ext_resource type="PackedScene" uid="uid://bgj0n06q1fhte" path="res://scenes/UnlockPower.tscn" id="12_rtldl"]
[ext_resource type="PackedScene" uid="uid://ba1spgb6o1um" path="res://assets/Prefabs/grid/ground_grid.tscn" id="13_f6p48"]
[ext_resource type="Script" path="res://assets/Scripts/CustomDamage.cs" id="17_5kkkm"]
[ext_resource type="Script" path="res://assets/Scripts/FollowPath.cs" id="18_wvb40"]
[ext_resource type="PackedScene" uid="uid://bcp6tsly4i1st" path="res://assets/Prefabs/rocks/round_rock_2.tscn" id="19_mobml"]
[ext_resource type="PackedScene" path="res://assets/Prefabs/rocks/small_rock_2.tscn" id="20_7g17g"]
[ext_resource type="Texture2D" path="res://assets/Textures/Nuage/1/nuage_-1.png" id="22_pt53c"]
[ext_resource type="Texture2D" uid="uid://b5nkw674mex7f" path="res://assets/Textures/Background/Illustration_sans_titre.png" id="23_7c1w1"]

[sub_resource type="BoxShape3D" id="BoxShape3D_4m4ox"]
size = Vector3(0.11869, 0.872872, 22.2889)

[sub_resource type="Curve3D" id="Curve3D_i2n38"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -18.2639, 2.64718, -1.12695),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_r7rsu"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 16.466, -12.188, -1.127),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_4sgsf"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -39.359, -8.818, -1.127),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_xbjrt"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -0.0263252, -0.204689, -0.0265361, 32.1209, -19.0016, -1.37939),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="Curve3D" id="Curve3D_petv7"]
_data = {
"points": PackedVector3Array(0, 0, 0, -6.125, 4.585, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -12.13, -0.477, -0.094, -12.835, 0, 0, 0, 0, 0, -15.8641, -7.67709, -0.357422, 4.235, -11, 0, 0, 0, 0, 0, 0, 0),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="Curve3D" id="Curve3D_qi1b0"]
_data = {
"points": PackedVector3Array(0, 0, 0, -6.125, 4.585, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -12.13, -0.477, -0.094, -12.835, 0, 0, 0, 0, 0, -16.109, -7.677, -0.357, 4.235, -11, 0, 0, 0, 0, 0, 0, 0),
"tilts": PackedFloat32Array(0, 0, 0, 0)
}
point_count = 4

[sub_resource type="BoxShape3D" id="BoxShape3D_tvi1f"]
size = Vector3(3387.83, 17.8482, 224.205)

[sub_resource type="Curve3D" id="Curve3D_0506t"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -500, 0, 0, 0, 0, 0, 0, 0, 0, 500, 0, 0),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="QuadMesh" id="QuadMesh_5mjvn"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mlwim"]
transparency = 1
shading_mode = 0
albedo_texture = ExtResource("22_pt53c")

[sub_resource type="QuadMesh" id="QuadMesh_fdabl"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_hp628"]
transparency = 1
shading_mode = 0
albedo_texture = ExtResource("23_7c1w1")

[node name="FlyScene" type="Node3D" node_paths=PackedStringArray("DefaultCheckpoint")]
script = ExtResource("1_ic4qb")
LevelSound = ExtResource("2_6o5do")
NextScene = ExtResource("3_8st7c")
DefaultCheckpoint = NodePath("CheckpointArea")

[node name="CharacterBody3D" parent="." instance=ExtResource("2_qlhiq")]
IsPowerHumanUnlock = true
IsPowerFishUnlock = true
IsPowerFlyUnlock = true
IsPowerGhostUnlock = true

[node name="CheckpointArea" parent="." node_paths=PackedStringArray("SpawnPoint") instance=ExtResource("4_27gc2")]
transform = Transform3D(4.725, 0, 0, 0, 4.725, 0, 0, 0, 4.725, 0, -3.46989, 0)
SpawnPoint = NodePath("SpawnPoint")

[node name="SpawnPoint" type="Node3D" parent="CheckpointArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.66472, -1.10619, 0)

[node name="Camera" parent="." node_paths=PackedStringArray("ToFollow") instance=ExtResource("4_obfiy")]
transform = Transform3D(1, 0, 0, 0, 0.980574, 0.196151, 0, -0.196151, 0.980574, 2.94312, -3.77661, 85.4349)
current = true
ToFollow = NodePath("../CharacterBody3D")

[node name="VortexAnim" parent="." instance=ExtResource("4_n1qjr")]
transform = Transform3D(0.402202, 0, 0, 0, 0.402202, 0, 0, 0, 1, 0, 0.420532, 0)

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.5817, 12.1011)
omni_range = 271.62

[node name="GameLayer" type="Node3D" parent="."]

[node name="CliffRock" parent="GameLayer" instance=ExtResource("7_7mstk")]
transform = Transform3D(35.287, 0, 0, 0, 35.287, 0, 0, 0, 2.331, 27.1542, -100.793, -0.700063)

[node name="Tree1" parent="GameLayer" instance=ExtResource("7_1rq4q")]
transform = Transform3D(16.6694, -2.24431, 0, 2.24431, 16.6694, 0, 0, 0, 1, -7.81616, -3.43306, 0)

[node name="StaticBody3D" type="StaticBody3D" parent="GameLayer/Tree1"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="GameLayer/Tree1/StaticBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.120928, -0.0162813, 0)
shape = SubResource("BoxShape3D_4m4ox")

[node name="Vortex" parent="GameLayer" instance=ExtResource("8_yqpp2")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 24.1398, -1.55953, 0)

[node name="FlatRock2" parent="GameLayer" instance=ExtResource("8_sarw3")]
transform = Transform3D(29.0487, 7.49467, 0, -7.49467, 29.0487, 0, 0, 0, 30, -2.20481, -93.1949, 0)

[node name="CheckpointArea2" parent="GameLayer" node_paths=PackedStringArray("SpawnPoint") instance=ExtResource("4_27gc2")]
transform = Transform3D(20.61, 0, 0, 0, 20.61, 0, 0, 0, 20.61, 0, -85.1677, 0)
SpawnPoint = NodePath("SpawnPoint")

[node name="SpawnPoint" type="Node3D" parent="GameLayer/CheckpointArea2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.256719, -0.0306807, 0)

[node name="UnlockIsle" type="Node3D" parent="GameLayer"]
transform = Transform3D(29.0487, 7.49467, 0, -7.49467, 29.0487, 0, 0, 0, 30, 47.3907, -84.4042, -0.698061)

[node name="UnlockPower" parent="GameLayer/UnlockIsle" instance=ExtResource("12_rtldl")]
transform = Transform3D(0.0322764, -0.00832741, 0, 0.00832741, 0.0322764, 0, 0, 0, 0.0333333, -0.0442502, 0.0506377, 0)

[node name="FlatRock1" parent="GameLayer/UnlockIsle" instance=ExtResource("9_1fsf8")]
transform = Transform3D(1.0678, -0.275496, 0, 0.275496, 1.0678, 0, 0, 0, 0.117467, 0.0633094, -0.0440047, 0.00161743)
sorting_offset = -10.0

[node name="GroundGrid2" parent="GameLayer/UnlockIsle" instance=ExtResource("13_f6p48")]
transform = Transform3D(-0.00832742, -0.0322764, 0, 0.0322764, -0.00832742, 0, 0, 0, 0.0333333, 0.0276155, 0.0937946, -0.0479303)

[node name="GroundGrid" parent="GameLayer/UnlockIsle" instance=ExtResource("13_f6p48")]
transform = Transform3D(-0.00832742, -0.0322764, 0, 0.0322764, -0.00832742, 0, 0, 0, 0.0333333, -0.132936, 0.0523717, -0.0479303)

[node name="GroundGrid3" parent="GameLayer/UnlockIsle" instance=ExtResource("13_f6p48")]
transform = Transform3D(0.0322764, -0.00832741, 0, 0.00832741, 0.0322764, 0, 0, 0, 0.0333333, -0.073271, 0.154012, -0.0479303)

[node name="HighRock" parent="GameLayer" instance=ExtResource("8_8nu4s")]
transform = Transform3D(6.05359, 5.23011, 0, -5.23011, 6.05359, 0, 0, 0, 8, -31.7723, -5.6028, 0)

[node name="TriangleRock1" parent="GameLayer" instance=ExtResource("8_85xnk")]
transform = Transform3D(20.545, 0, 0, 0, 20.545, 0, 0, 0, 20.545, 2.96498, -17.8525, 0)

[node name="Path3D" type="Path3D" parent="GameLayer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.6499, -29.3172, 0)
curve = SubResource("Curve3D_i2n38")

[node name="PathFollow3D" type="PathFollow3D" parent="GameLayer/Path3D"]
transform = Transform3D(0.999858, 0, 0, 0, 0.99994, 0, 0, 0, 0.999995, -18.2639, 2.64718, -1.12695)
progress = 18.4891
rotation_mode = 0
cubic_interp = false
loop = false
script = ExtResource("18_wvb40")
speed = 0.375

[node name="RoundRock2" parent="GameLayer/Path3D/PathFollow3D" instance=ExtResource("19_mobml")]
transform = Transform3D(8, 0, 0, 0, 8, 0, 0, 0, 8, 0, 0, 0)

[node name="Path3D3" type="Path3D" parent="GameLayer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0169811, -69.9438, 0)
curve = SubResource("Curve3D_r7rsu")

[node name="PathFollow3D" type="PathFollow3D" parent="GameLayer/Path3D3"]
transform = Transform3D(0.999858, 0, 0, 0, 0.99994, 0, 0, 0, 0.999995, 14.8385, -10.9834, -1.01561)
progress = 18.4891
rotation_mode = 0
cubic_interp = false
loop = false
script = ExtResource("18_wvb40")
speed = 0.375

[node name="RoundRock2" parent="GameLayer/Path3D3/PathFollow3D" instance=ExtResource("19_mobml")]
transform = Transform3D(8, 0, 0, 0, 8, 0, 0, 0, 8, 0, 0, 0)

[node name="Path3D4" type="Path3D" parent="GameLayer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 63.5771, -56.8412, 0)
curve = SubResource("Curve3D_4sgsf")

[node name="PathFollow3D" type="PathFollow3D" parent="GameLayer/Path3D4"]
transform = Transform3D(0.999858, 0, 0, 0, 0.99994, 0, 0, 0, 0.999995, -18.0348, -4.04053, -0.516407)
progress = 18.4891
rotation_mode = 0
cubic_interp = false
loop = false
script = ExtResource("18_wvb40")
speed = 0.23

[node name="RoundRock2" parent="GameLayer/Path3D4/PathFollow3D" instance=ExtResource("19_mobml")]
transform = Transform3D(8, 0, 0, 0, 8, 0, 0, 0, 8, 0, 0, 0)

[node name="Path3D6" type="Path3D" parent="GameLayer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 30.038, -53.5579, 0)
curve = SubResource("Curve3D_xbjrt")

[node name="PathFollow3D" type="PathFollow3D" parent="GameLayer/Path3D6"]
transform = Transform3D(0.999858, 0, 0, 0, 0.99994, 0, 0, 0, 0.999995, 15.9023, -9.40727, -0.682907)
progress = 18.4891
rotation_mode = 0
cubic_interp = false
loop = false
script = ExtResource("18_wvb40")
speed = 0.23

[node name="HighRock" parent="GameLayer/Path3D6/PathFollow3D" instance=ExtResource("8_8nu4s")]
transform = Transform3D(15, 0, 0, 0, 15, 0, 0, 0, 15, 0, 0, 0)

[node name="Path3D2" type="Path3D" parent="GameLayer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 38.7612, -3.89774, 0)
curve = SubResource("Curve3D_petv7")

[node name="PathFollow3D" type="PathFollow3D" parent="GameLayer/Path3D2"]
transform = Transform3D(0.999861, 0, 0, 0, 0.999932, 0, 0, 0, 0.999979, -14.1538, -7.89886, -0.326562)
progress = 30.857
rotation_mode = 0
script = ExtResource("18_wvb40")
speed = 0.1
Reverse = false

[node name="RoundRock1" parent="GameLayer/Path3D2/PathFollow3D" instance=ExtResource("7_r7847")]
transform = Transform3D(16.27, 0, 0, 0, 16.27, 0, 0, 0, 16.27, 0, -0.0809288, 0.151729)

[node name="Path3D5" type="Path3D" parent="GameLayer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 52.7836, -37.3491, 0)
curve = SubResource("Curve3D_qi1b0")

[node name="PathFollow3D" type="PathFollow3D" parent="GameLayer/Path3D5"]
transform = Transform3D(0.999861, 0, 0, 0, 0.999932, 0, 0, 0, 0.999979, -14.5189, -7.88357, -0.328713)
progress = 30.857
rotation_mode = 0
script = ExtResource("18_wvb40")
speed = -0.1
Reverse = false

[node name="SmallRock2" parent="GameLayer/Path3D5/PathFollow3D" instance=ExtResource("20_7g17g")]
transform = Transform3D(36, 0, 0, 0, 36, 0, 0, 0, 36, 0, 0, -0.334603)

[node name="Area3D" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28.9158, -150.038, 0)
collision_layer = 32
collision_mask = 0
script = ExtResource("17_5kkkm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
shape = SubResource("BoxShape3D_tvi1f")

[node name="BackgroundNuage01" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -79.2067)

[node name="Path3D" type="Path3D" parent="BackgroundNuage01"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.6499, -29.3172, 0)
curve = SubResource("Curve3D_0506t")

[node name="PathFollow3D" type="PathFollow3D" parent="BackgroundNuage01/Path3D"]
transform = Transform3D(0.999858, 0, 0, 0, 0.99994, 0, 0, 0, 0.999995, -302.48, 0, 0)
progress = 197.52
rotation_mode = 0
cubic_interp = false
loop = false
script = ExtResource("18_wvb40")
speed = 0.005
PlayOnFlyModeUnlock = false
Reverse = false

[node name="Nuage02" type="CSGMesh3D" parent="BackgroundNuage01/Path3D/PathFollow3D"]
transform = Transform3D(79.4017, 0, 0, 0, 79.4017, 0, 0, 0, 28.755, -26.435, -18.9249, 0)
mesh = SubResource("QuadMesh_5mjvn")
material = SubResource("StandardMaterial3D_mlwim")

[node name="Nuage04" type="CSGMesh3D" parent="BackgroundNuage01/Path3D/PathFollow3D"]
transform = Transform3D(79.4017, 0, 0, 0, 79.4017, 0, 0, 0, 28.755, 52.3345, -30.3513, 0)
mesh = SubResource("QuadMesh_5mjvn")
material = SubResource("StandardMaterial3D_mlwim")

[node name="Nuage03" type="CSGMesh3D" parent="BackgroundNuage01/Path3D/PathFollow3D"]
transform = Transform3D(79.4017, 0, 0, 0, 79.4017, 0, 0, 0, 28.755, -462.485, -18.9249, 0)
mesh = SubResource("QuadMesh_5mjvn")
material = SubResource("StandardMaterial3D_mlwim")

[node name="Nuage05" type="CSGMesh3D" parent="BackgroundNuage01/Path3D/PathFollow3D"]
transform = Transform3D(79.4017, 0, 0, 0, 79.4017, 0, 0, 0, 28.755, -383.716, -30.3513, 0)
mesh = SubResource("QuadMesh_5mjvn")
material = SubResource("StandardMaterial3D_mlwim")

[node name="PathFollow3D2" type="PathFollow3D" parent="BackgroundNuage01/Path3D"]
transform = Transform3D(0.999858, 0, 0, 0, 0.99994, 0, 0, 0, 0.999995, -302.48, 0, 0)
progress = 197.52
rotation_mode = 0
cubic_interp = false
loop = false
script = ExtResource("18_wvb40")
speed = 0.015
PlayOnFlyModeUnlock = false
Reverse = false

[node name="Nuage01" type="CSGMesh3D" parent="BackgroundNuage01/Path3D/PathFollow3D2"]
transform = Transform3D(79.4017, 0, 0, 0, 79.4017, 0, 0, 0, 28.755, 0, 0, 0)
mesh = SubResource("QuadMesh_5mjvn")
material = SubResource("StandardMaterial3D_mlwim")

[node name="Nuage03" type="CSGMesh3D" parent="BackgroundNuage01/Path3D/PathFollow3D2"]
transform = Transform3D(79.4017, 0, 0, 0, 79.4017, 0, 0, 0, 28.755, 24.2178, -53.2039, 0)
mesh = SubResource("QuadMesh_5mjvn")
material = SubResource("StandardMaterial3D_mlwim")

[node name="Nuage05" type="CSGMesh3D" parent="BackgroundNuage01/Path3D/PathFollow3D2"]
transform = Transform3D(79.4017, 0, 0, 0, 79.4017, 0, 0, 0, 28.755, 92.5601, 11.4262, 0)
mesh = SubResource("QuadMesh_5mjvn")
material = SubResource("StandardMaterial3D_mlwim")

[node name="Nuage02" type="CSGMesh3D" parent="BackgroundNuage01/Path3D/PathFollow3D2"]
transform = Transform3D(79.4017, 0, 0, 0, 79.4017, 0, 0, 0, 28.755, 499.239, 0, 0)
mesh = SubResource("QuadMesh_5mjvn")
material = SubResource("StandardMaterial3D_mlwim")

[node name="Nuage04" type="CSGMesh3D" parent="BackgroundNuage01/Path3D/PathFollow3D2"]
transform = Transform3D(79.4017, 0, 0, 0, 79.4017, 0, 0, 0, 28.755, 523.457, -53.2039, 0)
mesh = SubResource("QuadMesh_5mjvn")
material = SubResource("StandardMaterial3D_mlwim")

[node name="Nuage06" type="CSGMesh3D" parent="BackgroundNuage01/Path3D/PathFollow3D2"]
transform = Transform3D(79.4017, 0, 0, 0, 79.4017, 0, 0, 0, 28.755, 591.799, 11.4262, 0)
mesh = SubResource("QuadMesh_5mjvn")
material = SubResource("StandardMaterial3D_mlwim")

[node name="Background" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -269.921)

[node name="Background" type="CSGMesh3D" parent="Background"]
transform = Transform3D(741.673, 0, 0, 0, 320.67, 0, 0, 0, 143.543, 0, -191.9, 128.853)
mesh = SubResource("QuadMesh_fdabl")
material = SubResource("StandardMaterial3D_hp628")
